<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<title>1Drop YaadVibe</title>
<script type="module" src="https://unpkg.com/@walletconnect/modal@2"></script>
<style>
  :root{--gold:#FFD700;--green:#009B48;--dark:#0a0a0a}
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:var(--dark);color:#fff;font-family:-apple-system,system-ui,sans-serif;min-height:100dvh;display:flex;flex-direction:column;overflow:hidden}
  .c{position:relative;z-index:2;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem 1rem;text-align:center;max-width:420px;margin:0 auto;width:100%;gap:2rem}
  h1{font-size:clamp(6rem,16vw,12rem);font-weight:900;background:linear-gradient(45deg,#fff,var(--gold),#FFEDAB);-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:0.88;letter-spacing:-4px}
  .motto{font-size:1.9rem;font-weight:700;letter-spacing:1.5px}
  .btn{width:88dvw;max-width:380px;padding:1.9rem;border-radius:30px;font-size:2.1rem;font-weight:900;border:none;cursor:pointer;box-shadow:0 20px 50px rgba(0,0,0,0.8);transition:all .3s;user-select:none}
  .gold{background:var(--gold);color:#000}
  .dark{background:var(--dark);color:var(--gold);border:3px solid var(--gold)}
  .green{background:var(--green);color:#fff;border:6px solid var(--gold);box-shadow:0 0 40px rgba(255,215,0,0.6);animation:pulse 2s infinite}
  @keyframes pulse{0%,100%{box-shadow:0 0 40px rgba(255,215,0,0.6)}50%{box-shadow:0 0 60px rgba(255,215,0,1)}}
  .btn:active{transform:scale(0.94)}
  .lynk{color:var(--gold);font-size:1.5rem;font-weight:700;margin-top:1rem}
  #journey{width:100%;margin:1rem 0;overflow-y:auto;padding-bottom:12rem}
  .stay{background:var(--green);border:5px solid var(--gold);padding:1.4rem;margin:1rem;border-radius:20px;overflow:hidden;box-shadow:0 12px 40px rgba(0,0,0,0.7);animation:slideUp .6s ease-out}
  @keyframes slideUp{from{transform:translateY(60px);opacity:0}to{transform:none;opacity:1}}
  .stay img{width:100%;height:180px;object-fit:cover;border-radius:16px;margin-bottom:12px}
  .panel{position:fixed;bottom:0;left:0;right:0;background:rgba(0,155,72,0.99);border-top:6px solid var(--gold);padding:1.5rem;border-radius:36px 36px 0 0;z-index:30;transform:translateY(100%);transition:transform .4s cubic-bezier(0.23,1,0.32,1)}
  .panel.active{transform:translateY(0)}
  .close{position:absolute;top:10px;right:16px;font-size:2.8rem;background:none;border:none;color:#fff;cursor:pointer}
  .num{width:64px;height:64px;line-height:64px;font-size:2.2rem;background:var(--dark);color:var(--gold);border-radius:50%;margin:0 14px;font-weight:900}
</style>
</head>
<body>

<div class="c">
  <h1>YAAD<br>VIBE</h1>
  <p class="motto">One Love One Jamaica</p>
  
  <div id="journey"></div>
  
  <button id="primary" class="btn gold">BOOK YAAD</button>
  <button id="mint" class="btn dark">Konnet Wallet + MINT SBT</button>
  <button id="add" class="btn green hidden">Next Yaad?</button>
  
  <div class="lynk">Instant payout Jamaica Lynk</div>
</div>

<!-- People Panel -->
<div id="peoplePanel" class="panel">
  <button class="close" onclick="closePanel()">×</button>
  <h2 style="font-size:2rem;margin-bottom:1rem">How Much a Go?</h2>
  <div style="line-height:3;font-size:1.4rem">
    Big People − <button onclick="adj('a',-1)">−</button> <b id="a" class="num">1</b> <button onclick="adj('a',1)">+</button><br>
    Pickney − <button onclick="adj('c',-1)">−</button> <b id="c" class="num">0</b> <button onclick="adj('c',1)">+</button><br>
    Baby − <button onclick="adj('i',-1)">−</button> <b id="i" class="num">0</b> <button onclick="adj('i',1)">+</button><br>
    <select id="pets" style="margin-top:1rem;padding:12px;font-size:1.3rem;width:100%;border-radius:12px;background:var(--dark);color:var(--gold)">
      <option>No</option><option>Dog</option><option>Cat</option><option>Both</option>
    </select>
  </div>
  <button class="btn gold" style="margin-top:2rem" onclick="savePeople()">LOCK IN & BOOK</button>
</div>

<script type="module">
  import { WalletConnectModal } from 'https://unpkg.com/@walletconnect/modal@2/dist/index.js';

  const PROJECT_ID = "YOUR_PROJECT_ID_HERE";
  const LYNK = "Jamaica Lynk";

  let traveller = {a:1, c:0, i:0, pets:"No"};
  let stays = [], stage = 0;

  const sacred = [
    {name:"Jewel Grande • Moonrise", price:580, img:"https://via.placeholder.com/800x600/001100/FFD700?text=Moonrise+Jewel+Grande"},
    {name:"GoldenEye • Lagoon Cottage", price:920, img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2a/2d/3f/2c/goldeneye.jpg?w=1200"},
    {name:"The Caves • Negril", price:780, img:"https://www.thecaveshotel.com/wp-content/uploads/2023/05/The-Caves-Negril-Jamaica.jpg"},
    {name:"Round Hill • Villa 10", price:680, img:"https://www.roundhill.com/wp-content/uploads/2023/06/Round-Hill-Villa-Exterior.jpg"},
    {name:"Pegasus • Kingston Suite", price:480, img:"https://cf.bstatic.com/xdata/images/hotel/max1280x900/483221417.jpg"}
  ];

  function adj(t,d){
    if(t==='a' ? traveller.a+d >=1 : traveller[t]+d >=0){
      traveller[t] += d;
      document.getElementById(t).textContent = traveller[t];
    }
  }

  function closePanel(){
    document.getElementById("peoplePanel").classList.remove("active");
  }

  function savePeople(){
    traveller.pets = document.getElementById("pets").value;
    closePanel();
    document.getElementById("primary").textContent = "Choose Yaad Stay";
    document.getElementById("add").classList.remove("hidden");
  }

  function calcPrice(base){
    let p = base;
    if(traveller.a>2) p += 90*(traveller.a-2);
    if(traveller.c>0) p += 50*traveller.c;
    if(traveller.i>0) p += 20*traveller.i;
    if(traveller.pets!=="No") p += 120;
    return p;
  }

  function update(){
    document.getElementById("journey").innerHTML = stays.map(s=>`
      <div class="stay">
        <img src="${s.img}">
        <div style="font-weight:900;font-size:1.5rem;margin-top:8px">
          ${s.name}<br>
          <span style="color:var(--gold);font-size:1.8rem">$${calcPrice(s.price)} USD</span><br>
          <small style="opacity:0.9">→ ${LYNK} instant payout</small>
        </div>
      </div>
    `).join("");
  }

  document.getElementById("primary").onclick = () => {
    if(stays.length===0){
      document.getElementById("peoplePanel").classList.add("active");
    } else if(stage < 5){
      stage++;
      const stay = sacred[stage-1] || sacred[Math.floor(Math.random()*sacred.length)];
      stays.push(stay);
      document.getElementById("primary").textContent = ["Transport","Activities","Nyam","Vybes","MINT SBT + PAY"][stage-1] || "MINT SBT + PAY";
      if(stage===5){
        document.getElementById("primary").textContent = "MINT & SEND TO LYNK";
        document.getElementById("primary").classList.add("green");
      }
      update();
    }
  };

  document.getElementById("add").onclick = () => {
    const extra = sacred[Math.floor(Math.random()*sacred.length)];
    stays.push({name:"Extra Night • "+extra.name, price:220, img:extra.img});
    update();
  };

  let modal;
  document.getElementById("mint").onclick = async () => {
    if(!modal) modal = new WalletConnectModal({projectId: PROJECT_ID, themeMode:"dark"});
    try {
      await modal.connect().then(x=>x.approval());
      alert("YAADVIBE MINTED!\nJamaica Lynk just got paid\nRebuild stronger Jamaica");
    } catch(e) { console.log(e); }
  };

  update();
</script>
</body>
</html>
